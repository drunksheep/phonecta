{"version":3,"sources":["phone.js"],"names":["PhoneCTA","constructor","settings","defaultSettings","overlay","document","querySelector","formWrapper","hideCtaBtn","showCtaBtn","ctaWrapper","openButton","closeButton","formSwitchers","ctaForms","this","arguments","length","addEvent","openModal","bind","closeModal","formSwitcher","toggleCTA","debugSettings","console","log","element","event","func","window","addEventListener","querySelectorAll","forEach","el","fadeOut","cb","style","opacity","fade","display","requestAnimationFrame","fadeIn","val","parseFloat","target","nodeName","parentNode","instance","dataset","forms","targetedForm","switcher","classList","remove","add","setTimeout","toggle","onload"],"mappings":"AAAA,MAAMA,SACLC,YAAYC,GAEX,MAAMC,EAAkB,CACvBC,QAASC,SAASC,cAAc,gBAChCC,YAAaF,SAASC,cAAc,yBACpCE,WAAa,oBACbC,WAAa,cACbC,WAAaL,SAASC,cAAc,qBACpCK,WAAY,YACZC,YAAa,qBACbC,cAAe,eACfC,SAAU,aAIXC,KAAKb,SAAWc,UAAUC,OAAS,EAAId,EAAkBD,EAKzDa,KAAKG,SAASH,KAAKb,SAASS,WAAY,QAASI,KAAKI,UAAUC,KAAKL,OAGrEA,KAAKG,SAASH,KAAKb,SAASU,YAAa,QAASG,KAAKM,WAAWD,KAAKL,OAGvEA,KAAKG,SAASH,KAAKb,SAASW,cAAe,QAASE,KAAKO,aAAaF,KAAKL,OAG3EA,KAAKG,SAASH,KAAKb,SAASM,WAAY,QAASO,KAAKQ,UAAUH,KAAKL,OACrEA,KAAKG,SAASH,KAAKb,SAASO,WAAY,QAASM,KAAKQ,UAAUH,KAAKL,OAStES,gBACCC,QAAQC,IAAIX,KAAKb,UAYlBgB,SAASS,EAASC,EAAOC,GAExB,GAAIF,IAAYG,OAOf,OAAOH,EAAQI,iBAAiBH,EAAOC,IANvCF,EAAUtB,SAAS2B,iBAAiBL,IAE5BM,QAAQC,GACRA,EAAGH,iBAAiBH,EAAOC,IAerCM,QAAQD,EAAIE,GACXF,EAAGG,MAAMC,QAAU,EAEnB,SAAUC,KACJL,EAAGG,MAAMC,SAAW,IAAM,EAC9BJ,EAAGG,MAAMG,QAAU,OAEnBC,sBAAsBF,GAJxB,GAQkB,mBAAPH,GACVA,IAYFM,OAAOR,EAAIM,EAASJ,GACnBF,EAAGG,MAAMC,QAAU,EACnBJ,EAAGG,MAAMG,QAAUA,GAAW,QAE9B,SAAUD,IACT,IAAII,EAAMC,WAAWV,EAAGG,MAAMC,UACvBK,GAAO,IAAM,IACnBT,EAAGG,MAAMC,QAAUK,EACnBF,sBAAsBF,IAJxB,GAQmB,mBAAPH,GACXA,IAIFjB,YACCJ,KAAK2B,OAAO3B,KAAKb,SAASE,SAG3BiB,aACCN,KAAKoB,QAAQpB,KAAKb,SAASE,SAG5BkB,aAAaM,GAEZ,IAAIiB,EAAmC,MAA1BjB,EAAMiB,OAAOC,SAAmBlB,EAAMiB,OAAOE,WAAanB,EAAMiB,OACzEG,EAAWH,EAAOI,QAAQD,SAC1BE,EAAQ7C,SAAS2B,iBAAiBjB,KAAKb,SAASY,UAChDqC,EAAe9C,SAASC,iBAAiBS,KAAKb,SAASY,2BAA2BkC,OACtE3C,SAAS2B,iBAAiBjB,KAAKb,SAASW,eAGxDqC,EAAMjB,QAAQmB,IACbrC,KAAKoB,QAAQiB,KAGd/C,SAASC,iBAAiBS,KAAKb,SAASW,wBAAwBwC,UAAUC,OAAO,UACjFT,EAAOQ,UAAUE,IAAI,UAErBzB,OAAO0B,WAAY,KAClBzC,KAAK2B,OAAOS,IACV,KAIJ5B,YACCR,KAAKb,SAASQ,WAAW2C,UAAUI,OAAO,cAM5C3B,OAAO4B,OAAS,KACL,IAAI1D","file":"app.js","sourcesContent":["class PhoneCTA {\r\n\tconstructor(settings) {\r\n\r\n\t\tconst defaultSettings = {\r\n\t\t\toverlay: document.querySelector('.cta-overlay'),\r\n\t\t\tformWrapper: document.querySelector('.cta-form-wrapper-all'),\r\n\t\t\thideCtaBtn : '.cta-hide-tooltip',\r\n\t\t\tshowCtaBtn : '.phone-icon',\r\n\t\t\tctaWrapper : document.querySelector('.cta-open-wrapper'),\r\n\t\t\topenButton: '.cta-open',\r\n\t\t\tcloseButton: '.close-cta-overlay',\r\n\t\t\tformSwitchers: '.form-picker',\r\n\t\t\tctaForms: '.cta-form'\r\n\t\t};\r\n\r\n\t\t// decides between default settings or passed args on constructor\r\n\t\tthis.settings = arguments.length < 1 ? defaultSettings : settings;\r\n\r\n\t\t// this.debugSettings();\r\n\r\n\t\t// Open button bind\r\n\t\tthis.addEvent(this.settings.openButton, 'click', this.openModal.bind(this));\r\n\r\n\t\t// Close button bind\r\n\t\tthis.addEvent(this.settings.closeButton, 'click', this.closeModal.bind(this));\r\n\r\n\t\t// Form Switchers\r\n\t\tthis.addEvent(this.settings.formSwitchers, 'click', this.formSwitcher.bind(this));\r\n\r\n\t\t// hide / show tooltip\r\n\t\tthis.addEvent(this.settings.hideCtaBtn, 'click', this.toggleCTA.bind(this));\r\n\t\tthis.addEvent(this.settings.showCtaBtn, 'click', this.toggleCTA.bind(this));\r\n\t}\r\n\r\n\r\n\t/**\r\n\t * @method debugSettings\r\n\t * Logs settings currently being used\r\n\t*/\r\n\r\n\tdebugSettings() {\r\n\t\tconsole.log(this.settings);\r\n\t}\r\n\r\n\t/**\r\n\t * @method AddEvent\r\n\t * @param {DomTokenNode | DomTokenList} element // Nodes to bind event\r\n\t * @param {String} event  // Event to bind\r\n\t * @param {String | Function} func // function to use on event\r\n\t *\r\n\t * Helper method to bind events;\r\n\t*/\r\n\r\n\taddEvent(element, event, func) {\r\n\r\n\t\tif (element !== window) {\r\n\t\t\telement = document.querySelectorAll(element);\r\n\r\n\t\t\telement.forEach(el => {\r\n\t\t\t\treturn el.addEventListener(event, func);\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\treturn element.addEventListener(event, func);\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * @param {DOMTokenNode} el Element to apply\r\n\t * @param {Function} cb Callback Function\r\n\t * @see https://gist.github.com/alirezas/c4f9f43e9fe1abba9a4824dd6fc60a55\r\n\t * FadeOut polyfill for vanilla JS\r\n\t*/\r\n\r\n\tfadeOut(el, cb) {\r\n\t\tel.style.opacity = 1;\r\n\r\n\t\t(function fade() {\r\n\t\t\tif ((el.style.opacity -= .1) < 0) {\r\n\t\t\t\tel.style.display = \"none\";\r\n\t\t\t} else {\r\n\t\t\t\trequestAnimationFrame(fade);\r\n\t\t\t}\r\n\t\t})();\r\n\r\n\t\tif (typeof cb === 'function') {\r\n\t\t\tcb();\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * @param {DOMTokenNode} el Element to apply\r\n\t * @param {String} display What display property should be applied to the element after fading in. Defaults to Block\r\n\t * @param {Function} cb Callback Function\r\n\t * @see https://gist.github.com/alirezas/c4f9f43e9fe1abba9a4824dd6fc60a55\r\n\t * FadeIn polyfill for vanilla JS\r\n\t*/\r\n\r\n\tfadeIn(el, display, cb) {\r\n\t\tel.style.opacity = 0;\r\n\t\tel.style.display = display || \"block\";\r\n\r\n\t\t(function fade() {\r\n\t\t\tvar val = parseFloat(el.style.opacity);\r\n\t\t\tif (!((val += .1) > 1)) {\r\n\t\t\t\tel.style.opacity = val;\r\n\t\t\t\trequestAnimationFrame(fade);\r\n\t\t\t}\r\n\t\t})();\r\n\r\n\t\tif ( typeof cb === 'function' ) {\r\n\t\t\tcb();\r\n\t\t}\r\n\t}\r\n\r\n\topenModal() {\r\n\t\tthis.fadeIn(this.settings.overlay);\r\n\t}\r\n\r\n\tcloseModal() {\r\n\t\tthis.fadeOut(this.settings.overlay);\r\n\t}\r\n\r\n\tformSwitcher(event) {\r\n\t\t// Prevent clicks on <i> icon missing instance data;\r\n\t\tlet target = event.target.nodeName === 'I' ? event.target.parentNode : event.target;\r\n\t\tlet instance = target.dataset.instance;\r\n\t\tlet forms = document.querySelectorAll(this.settings.ctaForms);\r\n\t\tlet targetedForm = document.querySelector(`${this.settings.ctaForms}[data-instance=\"${instance}\"]`);\r\n\t\tlet switchers = document.querySelectorAll(this.settings.formSwitchers);\r\n\r\n\r\n\t\tforms.forEach(switcher => {\r\n\t\t\tthis.fadeOut(switcher);\r\n\t\t});\r\n\r\n\t\tdocument.querySelector(`${this.settings.formSwitchers}.active`).classList.remove('active');\r\n\t\ttarget.classList.add('active');\r\n\r\n\t\twindow.setTimeout( () => {\r\n\t\t\tthis.fadeIn(targetedForm);\r\n\t\t}, 400);\r\n\r\n\t}\r\n\r\n\ttoggleCTA() {\r\n\t\tthis.settings.ctaWrapper.classList.toggle('cta-shown');\r\n\t}\r\n\r\n}\r\n\r\n\r\nwindow.onload = () => {\r\n\tlet CTA = new PhoneCTA;\r\n}"]}